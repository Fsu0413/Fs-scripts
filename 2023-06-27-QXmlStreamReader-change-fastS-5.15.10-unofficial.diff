diff -ru qtbase_/src/corelib/serialization/qxmlstream.cpp qtbase/src/corelib/serialization/qxmlstream.cpp
--- qtbase_/src/corelib/serialization/qxmlstream.cpp	2023-04-24 21:43:14.000000000 +0800
+++ qtbase/src/corelib/serialization/qxmlstream.cpp	2023-07-09 12:55:27.758007700 +0800
@@ -1302,7 +1302,7 @@
     return n;
 }
 
-inline int QXmlStreamReaderPrivate::fastScanName(int *prefix)
+inline int QXmlStreamReaderPrivate::fastScanName(Value *val)
 {
     int n = 0;
     uint c;
@@ -1339,16 +1339,16 @@
         case '+':
         case '*':
             putChar(c);
-            if (prefix && *prefix == n+1) {
-                *prefix = 0;
+            if (val && val->prefix == n + 1) {
+                val->prefix = 0;
                 putChar(':');
                 --n;
             }
             return n;
         case ':':
-            if (prefix) {
-                if (*prefix == 0) {
-                    *prefix = n+2;
+            if (val) {
+                if (val->prefix == 0) {
+                    val->prefix = n + 2;
                 } else { // only one colon allowed according to the namespace spec.
                     putChar(c);
                     return n;
@@ -1364,8 +1364,8 @@
         }
     }
 
-    if (prefix)
-        *prefix = 0;
+    if (val)
+        val->prefix = 0;
     int pos = textBuffer.size() - n;
     putString(textBuffer, pos);
     textBuffer.resize(pos);
diff -ru qtbase_/src/corelib/serialization/qxmlstream.g qtbase/src/corelib/serialization/qxmlstream.g
--- qtbase_/src/corelib/serialization/qxmlstream.g	2023-04-24 21:43:14.000000000 +0800
+++ qtbase/src/corelib/serialization/qxmlstream.g	2023-07-09 12:59:53.742284500 +0800
@@ -516,7 +516,7 @@
     int fastScanLiteralContent();
     int fastScanSpace();
     int fastScanContentCharList();
-    int fastScanName(int *prefix = nullptr);
+    int fastScanName(Value *val = nullptr);
     inline int fastScanNMTOKEN();
 
 
@@ -1811,7 +1811,8 @@
 qname ::= LETTER;
 /.
         case $rule_number: {
-            sym(1).len += fastScanName(&sym(1).prefix);
+            Value &val = sym(1);
+            val.len += fastScanName(&val);
             if (atEnd) {
                 resume($rule_number);
                 return false;
diff -ru qtbase_/src/corelib/serialization/qxmlstream_p.h qtbase/src/corelib/serialization/qxmlstream_p.h
--- qtbase_/src/corelib/serialization/qxmlstream_p.h	2023-04-24 21:43:14.000000000 +0800
+++ qtbase/src/corelib/serialization/qxmlstream_p.h	2023-07-09 12:55:27.822078100 +0800
@@ -1005,7 +1005,7 @@
     int fastScanLiteralContent();
     int fastScanSpace();
     int fastScanContentCharList();
-    int fastScanName(int *prefix = nullptr);
+    int fastScanName(Value *val = nullptr);
     inline int fastScanNMTOKEN();
 
 
@@ -1939,7 +1939,8 @@
         break;
 
         case 262: {
-            sym(1).len += fastScanName(&sym(1).prefix);
+            Value &val = sym(1);
+            val.len += fastScanName(&val);
             if (atEnd) {
                 resume(262);
                 return false;
